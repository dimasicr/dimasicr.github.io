<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title> Fibonacci Kawung </title>
      <link rel="icon" href="logo.svg" type="image/svg+xml">
      <link rel="preconnect" href="https://fonts.googleapis.com">
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@200&display=swap" rel="stylesheet">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
      <link rel="stylesheet" href="main.css">
      <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
      <script src="https://cdn.jsdelivr.net/gh/mrdoob/three.js@r128/examples/js/loaders/STLLoader.js"></script>
   </head>
   <body>
      <div class="container">
         <!-- Toggle button for small screens -->
         <div class="toggle-button" id="toggleButton">
            <img src="asset/tumpalLogo.svg" alt="SVG Image Description">
            <span style="margin-left: auto; margin-right: auto;"> Geometry of Batik </span>
            <span style="margin-left: auto; margin-right: 20px;"> &#9776; </span> 
         </div>
         <!-- Side Navigation Bar -->
         <div class="sidenav" id="sidenav">
            <div style= "display: flex; font-size: 24px;">
               <img src="asset/tumpalLogo.svg" alt="SVG Image Description">
               <span style="margin-left: 10px;"> Geometry of Batik  
               <span>
            </div>
            <hr>
            <script src="nav.js"></script>
         </div>
         <!-- Main Content Area -->
         <div class="main-content">
         <h1 > Fibonacci Kawung </h1>
         
            <div id="svg-container"></div>
         <figure>
            <details style="margin-top: 5px;">
               <summary style="text-align: center;"> <span> Interactive Image  </span> </summary>  
               <select name="Motives" id="motives" class="btns" style="margin-top: 10px;" >
                  <option value="rect_diamond">Rectangle & Ellipse </option>
                  <option value="square"> Square </option>
               </select>
               <select name="theme" id="themes" class="btns" >
                  <option value="oldJava">Old Java </option>
                  <option value="batavia">Batavia </option>
               </select>
               <select name="Paddings" id="paddings" class="btns" >
                  <option value="false" selected >No Padding</option>
                  <option value="true">Padding</option>
               </select>
               <button id="download-btn"> <i class="fa fa-download"></i>  Download SVG </span> </button>
            </details>
            <div style="text-align: center; margin-top: 10px;">
            <button id="left-button" onclick="if (currentPattern === 'rect_diamond') {
          currentPattern = 'square';
          selectBox.value = 'square';
        } 
        else if (currentPattern === 'square') {
          currentPattern = 'rect_diamond';
          selectBox.value = 'rect_diamond';
        }  redraw();"><</button>
                    
         <button id="right-button" onclick="if (currentPattern === 'rect_diamond') {
          currentPattern = 'square';
          selectBox.value = 'square';
        } 
        else if (currentPattern === 'square') {
          currentPattern = 'rect_diamond';
          selectBox.value = 'rect_diamond';
        } redraw();">></button>
            </div>
         </figure>
         
         <article style="width: 80%; text-align: center; margin: auto;">
         <h2 style="text-align: justify; color: #493118; font-weight: bold;"> Description </h2>
         <p style="text-align: justify;"> The motif is inspired by the traditional Indonesian <a href="https://en.wikipedia.org/wiki/Batik_kawung"> <i> Kawung</i> </a> pattern, adorned with the classic isen cecek design and arranged in the form of a Fibonacci Spiral. The Fibonacci Spiral is created using the <a href="https://en.wikipedia.org/wiki/Fibonacci_sequence"> Fibonacci </a> sequence, where each number is the sum of the two preceding ones.The Fibonacci sequence is named after Leonardo of Pisa, also known as Fibonacci, who introduced this sequence to Western European mathematics in his 1202 book, Liber Abaci.</p>
         <h2 style="text-align: justify; color: #493118; font-weight: bold;"> Math Concept </h2>
         <p style="text-align: justify;"> The Fibonacci sequence can be defined as:  </p>
         <p style=" overflow-x: scroll;"> \(F_0 = 0 , F_1 = 1 \) , and for n > 0: </p>
         <p style=" overflow-x: scroll;"> \(F_n = F_n-1 + F_n-2 \) </p>

         <h2 style="text-align: justify; color: #493118; font-weight: bold;"> How to Draw </h2>
         <div style="text-align: center;">
              <canvas id="myCanvas" style="display: block; margin: auto;"></canvas>
         </div>
         <button id="refresh-btn"> <i class="fa fa-refresh"></i>  Replay Animation </span> </button>
         <ol>
            <li> <p style="text-align: justify;"> Start with square ABCD, where the side length is equal to F(n). Begin by drawing a quarter circle centered at C, and then proceed to draw another quarter circle centered at A. </p> </li>
            <li> <p style="text-align: justify;"> Next, shift your attention to square BEFG, featuring a side length equal to F(n-1). Here, create quarter circles centered at both E and G. </p> </li>
            <li> <p style="text-align: justify;"> Advance to square JFHI, characterized by a side length equal to F(n-2). Draw quarter circles centered at J and H. </p> </li>
            <li> <p style="text-align: justify;"> Continue this pattern by repeating step #3 for all subsequent squares in the sequence. </p> </li>
         </ol>
             <h2 style="text-align: justify; color: #493118; font-weight: bold;"> Exhibit </h2>
            
         <img src="asset/jewelryKawungRing.jpeg" alt="Apollonian Kawung Necklace" style="display: flex;
     justify-content: center;
     height: 300px;
     width: 300px;
     margin: auto;" >
         <p style="text-align: justify;"> Presenting the Kawung Ring by The Geometry of Batik Team. With the mathematical model in hand, creating a 3D model becomes a straightforward process. The resulting 3D model serves as the foundation for crafting this necklace using the lost wax casting method in our exhibit </p>
<div id="modelViewer" style="width: 400px; height: 300px; margin: 50px auto;"></div>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Scene setup
        var scene = new THREE.Scene();

        // Camera setup
        var camera = new THREE.PerspectiveCamera(75, 400 / 300, 0.1, 1000);
        camera.position.set(0, 0, 8);

        // Renderer setup with a light background color
        var renderer = new THREE.WebGLRenderer({ antialias: true });
        renderer.setSize(350, 300); // Set the renderer size to match the #modelViewer
        renderer.setClearColor(0xf5f5f5, 1); // Set background to light gray
        document.getElementById("modelViewer").appendChild(renderer.domElement);

        // Lights setup for a shiny, metallic look
        var ambientLight = new THREE.AmbientLight(0xffffff, 1.0); // Increased ambient light intensity
        scene.add(ambientLight);

        var pointLight1 = new THREE.PointLight(0xffffff, 1.5); // Increased intensity
        pointLight1.position.set(50, 50, 50);  // Top-right light
        scene.add(pointLight1);

        var pointLight2 = new THREE.PointLight(0xffffff, 1.5); // Increased intensity
        pointLight2.position.set(-50, 50, 50);  // Top-left light
        scene.add(pointLight2);

        var pointLight3 = new THREE.PointLight(0xffffff, 1.0); // Additional point light for better illumination
        pointLight3.position.set(0, 0, 0); // Bottom center light
        scene.add(pointLight3);

        // Load STL model from GitHub Pages
        var loader = new THREE.STLLoader();
        loader.load('https://raw.githubusercontent.com/dimasicr/dimasicr.github.io/master/stl/jewelryFibonacciRing.stl', function (geometry) {
            // Gold material
            var material = new THREE.MeshStandardMaterial({
                color: 0xffd700,       // Gold color (hex for gold)
                metalness: 1.0,        // High metalness for shiny, reflective surface
                roughness: 0.1         // Lower roughness to make it glossy
            });

            // Create the mesh and center it
            var mesh = new THREE.Mesh(geometry, material);
            mesh.geometry.computeBoundingBox();
            var center = new THREE.Vector3();
            mesh.geometry.boundingBox.getCenter(center);
            mesh.geometry.center();  // Center the object at the origin
            scene.add(mesh);

            // Animation loop: rotate the object
            function animate() {
                requestAnimationFrame(animate);
                mesh.rotation.y += 0.01;  // Rotate around the Y-axis
                renderer.render(scene, camera);
            }

            animate();
        });

        // Resize handling (update this for your frame size)
        window.addEventListener('resize', function () {
            var width = 350; // Fixed width
            var height = 300; // Fixed height
            renderer.setSize(width, height);
            camera.aspect = width / height;
            camera.updateProjectionMatrix();
        });
    });
</script>
            
         <h2 style="text-align: justify; color: #493118; font-weight: bold;"> References </h2>
         <ul>
               <li> <p style="text-align: justify;"> <a href="https://en.wikipedia.org/wiki/Fibonacci_sequence"> Fibonacci Wiki </a> </p> </li>   
               <li> <p style="text-align: justify;"> <a href="https://mathworld.wolfram.com/FibonacciNumber.html"> Fibonacci Wolfram </a> </p></li> 
         </ul>

         </article>
         </div>
      </div>
      <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      <script src="js/batikGeometry.js"></script>
      <script src="js/fibonacci.js"> </script>
      <script src="js/mainUI.js"></script> 
      <script src="js/animationToolkit.js"></script>
      <script src="js/animationFibonacci.js"></script>
   </body>
</html>
