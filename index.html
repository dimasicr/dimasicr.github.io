<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Karsadera </title>
      <link rel="icon" href="logo.svg" type="image/svg+xml">
      <link rel="preconnect" href="https://fonts.googleapis.com">
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@200&display=swap" rel="stylesheet">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
      <link rel="stylesheet" href="main.css">
      <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
      <script src="https://cdn.jsdelivr.net/gh/mrdoob/three.js@r128/examples/js/loaders/STLLoader.js"></script>
   </head>
   <body>
      <div class="container">
         <!-- Toggle button for small screens -->
         <div class="toggle-button" id="toggleButton">
            <img src="asset/tumpalLogo.svg" alt="SVG Image Description">
            <span style="margin-left: auto; margin-right: auto;"> Geometry of Batik </span>
            <span style="margin-left: auto; margin-right: 20px;"> &#9776; </span> 
         </div>
         <!-- Side Navigation Bar -->
         <div class="sidenav" id="sidenav">
            <div style= "display: flex; font-size: 24px;">
               <img src="asset/tumpalLogo.svg" alt="SVG Image Description">
               <span style="margin-left: 10px;"> Geometry of Batik  <span>
            </div>
            <hr>
            <script src="nav.js"></script>
         </div>
         <!-- Main Content Area -->
         <div class="main-content">
         <h1 > Apollonian Kawung</h1>
         
            <div id="svg-container"></div>
         <figure>
            <details style="margin-top: 5px;">
               <summary style="text-align: center;"> <span> Interactive Image  </span> </summary>  
               <select name="Motives" id="motives" class="btns" style="margin-top: 10px;" >
                  <option value="symmetric">Symmetric</option>
                  <option value="asymmetric">Asymmetric</option>
                  <option value="triplet">Triplet</option>
                  <option value="five">Five</option>
               </select>
               <select name="theme" id="themes" class="btns" >
                  <option value="oldJava">Old Java </option>
                  <option value="tetradiac">Nusantara </option>
                  <option value="batavia">Batavia </option>
               </select>
               <select name="Paddings" id="paddings" class="btns" >
                  <option value="false" selected >No Padding</option>
                  <option value="true">Padding</option>
               </select>
               <select name="recursion_threshold" id="recursion_threshold" class="btns" >
                  <option value="1"> Detail </option>
                  <option value="3.5" selected> Normal </option>
                  <option value="5"> Rough </option>
               </select>
               <button id="download-btn"> <i class="fa fa-download"></i>  Download SVG </span> </button>
            </details>
            <div style="text-align: center; margin-top: 10px;">
                    <button id="left-button" onclick="if (currentPattern === 'symmetric') {
          currentPattern = 'asymmetric';
          selectBox.value = 'asymmetric';
        } 
        else if (currentPattern === 'asymmetric') {
          currentPattern = 'triplet';
          selectBox.value = 'triplet';
        } 
        else if (currentPattern === 'triplet') {
          currentPattern = 'symmetric';
          selectBox.value = 'symmetric';
        } redraw();"><</button>
                    <button id="right-button" onclick="if (currentPattern === 'symmetric') {
          currentPattern = 'triplet';
          selectBox.value = 'triplet';
        } 
        else if (currentPattern === 'triplet') {
          currentPattern = 'asymmetric';
          selectBox.value = 'asymmetric';
        } 
        else if (currentPattern === 'asymmetric') {
          currentPattern = 'symmetric';
          selectBox.value = 'symmetric';
        } redraw();">></button>
               </div>
         </figure>
         
         <article style="width: 80%; text-align: center; margin: auto;">
         <h2 style="text-align: justify; color: #493118; font-weight: bold;"> Description </h2>
         <p style="text-align: justify;"> The motive is inspired by the traditional Indonesian <i><a href="https://en.wikipedia.org/wiki/Batik_kawung">Kawung</a></i> pattern, adorned with the classic <i> isen cecek </i> design, arranged in the form of an Apollonian Gasket. <a href="https://en.wikipedia.org/wiki/Apollonian_gasket">The Apollonian Gasket</a> is a fractal pattern comprising circles that are mutually tangent, with their arrangement governed by a specific mathematical equation initially described by the renowned French philosopher and mathematician, René Descartes </p>
         <p style="text-align: justify;"> Both the Kawung motif and the Apollonian Gasket hold historical significance, representing some of the oldest known patterns. In Indonesia, the Kawung motif dates back to the 13th century, evident in the artifacts from the Singosari Kingdom, such as the Mahakala statue. René Descartes, the eminent French philosopher and mathematician, expounded that for every set of four kissing circles, the radii of these circles satisfy a particular quadratic equation. By considering Kawung as a circle and applying Descartes' theorem, we can skillfully draw the captivating Apollonian Kawung Gasket.  </p>
         <h2 style="text-align: justify; color: #493118; font-weight: bold;"> Math Concept </h2>
         <p style="text-align: justify;"> <a href="https://en.wikipedia.org/wiki/Descartes%27_theorem#">Descartes theorem</a> states that curvature k ( 1 / radius) of four mutually tangent circles can be described as:  </p>
         <p style=" overflow-x: scroll;"> \( (k_1 + k_2 + k_3 + k_4)^2  = 2 \cdot (2k_1 ^2 + k_2 ^2+ k_3 ^2 + k_4 ^2)  \) </p>
         <p style="text-align: justify;"> To get location of circle center, we can use complex Descartes theorem:  </p>
         <p style=" overflow-x: scroll;"> \( (k_1 z_1 + k_2 z_2 + k_3 z_3 + k_4 z_4)^2  = 2 \cdot (2k_1 ^2 z_1 ^ 2+ k_2 ^2 z_2^2+ k_3 ^2 z_3 ^ 2 + k_4 ^2 z_4 ^ 2)  \) </p>         </details>
         <h2 style="text-align: justify; color: #493118; font-weight: bold;"> How to Draw </h2>
         <div style="text-align: center;">
              <canvas id="myCanvas" style="display: block; margin: auto;"></canvas>
         </div>
         <button id="refresh-btn"> <i class="fa fa-refresh"></i>  Replay Animation </span> </button>
         <ol>
            <li> <p style="text-align: justify;"> Given square ABCD, draw a circle centered at O with a radius equal to half of the square side length. </p> </li>
            <li> <p style="text-align: justify;"> Draw a quarter circle centered at vertex A, using the same radius. </p> </li>
            <li> <p style="text-align: justify;"> Repeat step #2 three times, centering the quarter circles at vertices B, C, and D, respectively. </p> </li>
         </ol>

         <h2 style="text-align: justify; color: #493118; font-weight: bold;"> Exhibit </h2>
            
         <img src="asset/imgNecklaceApollonian.png" alt="Apollonian Kawung Necklace" style="display: flex;
     justify-content: center;
     height: 400px;
     width: 300px;
     margin: auto;" >
         <p style="text-align: justify;"> Presenting the Apollonian Kawung Necklace by The Geometry of Batik Team. With the mathematical model in hand, creating a 3D model becomes a straightforward process. The resulting 3D model serves as the foundation for crafting this necklace using the lost wax casting method in our exhibit. To enhance its appearance, the Apollonian Kawung is coated with rhodium, providing a brilliant and shiny effect. </p>


<div id="modelViewer" style="width: 400px; height: 300px; margin: 50px auto;"></div>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Scene setup
        var scene = new THREE.Scene();

        // Camera setup
        var camera = new THREE.PerspectiveCamera(75, 400 / 300, 0.1, 1000);
        camera.position.set(0, 0, 8);

        // Renderer setup with a light background color
        var renderer = new THREE.WebGLRenderer({ antialias: true });
        renderer.setSize(350, 300); // Set the renderer size to match the #modelViewer
        renderer.setClearColor(0xf5f5f5, 1); // Set background to light gray
        document.getElementById("modelViewer").appendChild(renderer.domElement);

        // Lights setup for a shiny, metallic look
        var ambientLight = new THREE.AmbientLight(0xaaaaaa, 1.0); // Increased ambient light intensity
        scene.add(ambientLight);

        var pointLight1 = new THREE.PointLight(0xffffff, 1.2); // Increased intensity
        pointLight1.position.set(50, 50, 50);  // Top-right light
        scene.add(pointLight1);

        var pointLight2 = new THREE.PointLight(0xffffff, 1.2); // Increased intensity
        pointLight2.position.set(-50, 50, 50);  // Top-left light
        scene.add(pointLight2);

        var pointLight3 = new THREE.PointLight(0xffffff, 1.0); // Additional point light
        pointLight3.position.set(0, -50, 50); // Bottom center light
        scene.add(pointLight3);

        // Load STL model from GitHub Pages
        var loader = new THREE.STLLoader();
        loader.load('https://raw.githubusercontent.com/dimasicr/dimasicr.github.io/master/stl/apolloniankawung.stl', function (geometry) {
            // Silvery material
            var material = new THREE.MeshStandardMaterial({
                color: 0xaaaaaa,       // Light gray color to mimic silver
                metalness: 0.8,        // Higher metalness for shiny, reflective surface
                roughness: 0.2         // Lower roughness to make it glossy
            });

            // Create the mesh and center it
            var mesh = new THREE.Mesh(geometry, material);
            mesh.geometry.computeBoundingBox();
            var center = new THREE.Vector3();
            mesh.geometry.boundingBox.getCenter(center);
            mesh.geometry.center();  // Center the object at the origin
            scene.add(mesh);

            // Animation loop
            function animate() {
                requestAnimationFrame(animate);
                mesh.rotation.y += 0.01;  // Rotate around the Y-axis
                renderer.render(scene, camera);
            }

            animate();
        });

        // Resize handling (update this for your frame size)
        window.addEventListener('resize', function () {
            var width = 350; // Fixed width
            var height = 300; // Fixed height
            renderer.setSize(width, height);
            camera.aspect = width / height;
            camera.updateProjectionMatrix();
        });
    });
</script>
            
         <h2 style="text-align: justify; color: #493118; font-weight: bold;"> References </h2>
         <ul>
            <li> <p style="text-align: justify;"> <a href="https://codepen.io/pimskie/pen/QKjBEV"> Codepen by pimskie </a> </p> </li>
            <li> <p style="text-align: justify;"> <a href="https://www.youtube.com/watch?v=T647CGsuOVU"> Complex Video Series by Welch Labs </a> </p> </li>
         </ul>
            
         </article>
         </div>
      </div>
      <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      <script src="js/complex.js"></script>
      <script src="js/batikGeometry.js"></script>
      <script src="js/apollonianGasket.js"> </script>
      <script src="js/mainUI.js"></script> 
      <script src="js/animationToolkit.js"></script>
      <script src="js/animationCircularKawung.js"></script>
         
      </script>
   </body>
</html>
